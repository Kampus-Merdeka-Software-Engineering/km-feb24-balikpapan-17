<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maven Coffee</title>
    <link rel="icon" type="image/x-icon" href="./assets/images/icon.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/theme.css" />
    <link rel="stylesheet" href="./css/navbar.css" />
    <link rel="stylesheet" href="./css/menu.css" />
    <link rel="stylesheet" href="./css/team.css" />
    <link rel="stylesheet" href="./css/about.css" />
    <link rel="stylesheet" href="./css/home.css" />
  </head>
  <body>
    <div id="loadingScreen" style="display: none">
      <div>Loading...</div>
    </div>

    <header>
      <nav id="navbar" class="navbar" id="navbarLeft">
        <div class="navbar-left">
          <a href="#" class="logo">
            <img src="./assets/images/lgo.png" alt="logo" id="logoImage" />
          </a>
        </div>
        <div class="navbar-right">
          <ul class="nav-menu">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#menu">Menu's</a></li>
            <li><a href="#team">Team</a></li>
            <li class="submenu-li" id="loginLi">
              <a href="#">
                <i class="fa-solid fa-mug-hot fa-lg"></i>
              </a>
              <ul class="submenu">
                <li>
                  <a href="./pages/profile.html"
                    ><i class="fas fa-user"></i> Profile</a
                  >
                </li>
                <li id="dashboardLi">
                  <a href="./pages/dashboard.html"
                    ><i class="fa-solid fa-chalkboard"></i> Dashboard</a
                  >
                </li>
                <li>
                  <a href="#" id="logoutButton"
                    ><i class="fa-solid fa-power-off"></i> Logout</a
                  >
                </li>
              </ul>
            </li>
          </ul>
          <div class="dropdown">
            <button class="dropbtn" onclick="toggleDropdown()"></button>
            <div class="dropdown-content">
              <a href="#home">Home</a>
              <a href="#about">About</a>
              <a href="#menu">Menu's</a>
              <a href="#team">Team</a>
              <a href="#">Dashboard</a>
              <a href="#">Profile</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <section id="home" class="section">
      <div class="home-content">
        <div class="home-text">
          <div class="home-text-top">
            <h2 id="maven" class="maven-coffee">Maven Coffee</h2>
            <p>
              Unearth perfection in every single drop of Maven Coffee: The
              sanctuary where bliss cascades into every glass, crafting moments
              of pure delight and satisfaction.
            </p>
          </div>
          <button type="button">Buy Now!</button>
        </div>
        <div class="home-image">
          <img src="./assets/images/blend.png" alt="Home Image" />
        </div>
      </div>
    </section>

    <section id="about" class="section">
      <div class="about-content">
        <div class="video-container">
          <video autoplay loop muted>
            <source src="./assets/video/CinematicCoffee.mp4" type="video/mp4" />
          </video>
        </div>
        <div class="Info">
          <!-- <h2>About</h2> -->
          <div class="styled-list">
            <b>Selamat datang di Maven Coffee!</b>
            <br />

            Kami adalah tim pecinta kopi yang bersemangat untuk menciptakan
            pengalaman kopi yang tak terlupakan. Di sini, kami menyajikan kopi
            berkualitas tinggi dengan sentuhan keramahan dan kehangatan. Setiap
            cangkir kami dirancang dengan keahlian dan kecintaan.
            <br /><br />
            Kami bangga akan dedikasi kami untuk kualitas dan inovasi. Kami juga
            berkomitmen pada keberlanjutan lingkungan dan mendukung petani kopi
            lokal.
            <br /><br />
            <!-- <ol>
              <li>
                fill with 5w
              </li>
            </ol> -->
            Terima kasih telah memilih Maven Coffee. Kami tidak sabar untuk
            menyambut Anda dan berbagi kecintaan kami akan kopi. Salam hangat,
            Tim 17!
          </div>
        </div>
      </div>
    </section>

    <section id="menu" class="section">
      <div class="menu-section">
        <div class="menu-card">
          <img src="./assets/images/Coffe.png" alt="Espresso" />
          <div class="menu-info">
            <h3>Espresso</h3>
            <p>Rich and bold espresso with a perfect crema.</p>
            <p class="price">$3.00</p>
          </div>
        </div>
        <div class="menu-card">
          <img src="./assets/images/Tea.png" alt="Latte" />
          <div class="menu-info">
            <h3>Latte</h3>
            <p>Smooth and creamy latte with a shot of espresso.</p>
            <p class="price">$4.00</p>
          </div>
        </div>
        <div class="menu-card">
          <img src="./assets/images/Drink choco.png" alt="Drink Choco" />
          <div class="menu-info">
            <h3>Drink Choco</h3>
            <p>Indulge in our rich and creamy hot chocolate.</p>
            <p class="price">$4.50</p>
          </div>
        </div>
        <div class="menu-card">
          <img src="./assets/images/Croissant.png" alt="Croissant" />
          <div class="menu-info">
            <h3>Croissant</h3>
            <p>Flaky and buttery croissant, perfect for breakfast.</p>
            <p class="price">$2.50</p>
          </div>
        </div>
        <div class="menu-card">
          <img src="./assets/images/Coffe beans.jpg" alt="Coffee Beans" />
          <div class="menu-info">
            <h3>Coffee Beans</h3>
            <p>Take home our freshly roasted coffee beans.</p>
            <p class="price">$12.00</p>
          </div>
        </div>
        <div class="menu-card">
          <img src="./assets/images/Loose tea.jpg" alt="Loose Tea" />
          <div class="menu-info">
            <h3>Loose Tea</h3>
            <p>Explore our selection of premium loose teas.</p>
            <p class="price">$6.00</p>
          </div>
        </div>
      </div>
    </section>

    <section id="team" class="section"></section>

    <footer></footer>

    <script src="./js/navbar.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="../js/auth.js"></script>

    <script>
      function showLoadingScreen() {
        console.log("Loading started...");
        document.getElementById("loadingScreen").style.display = "flex";
      }

      function hideLoadingScreen() {
        console.log("Loading finished...");
        document.getElementById("loadingScreen").style.display = "none";
      }

      showLoadingScreen();

      setTimeout(hideLoadingScreen, 500);

      document.addEventListener("DOMContentLoaded", function () {
        const loginLi = document.getElementById("loginLi");
        const submenuUl = document.querySelector(".submenu");

        auth.onAuthStateChanged((user) => {
          if (!user) {
            loginLi.innerHTML = '<button id="loginButton">Login</button>';
            document
              .getElementById("loginButton")
              .addEventListener("click", function () {
                window.location.href = "./pages/auth.html";
              });
          } else {
            loginLi.innerHTML = `
              <a href="#">
                <i class="fa-solid fa-mug-hot fa-lg"></i>
              </a>
              <ul class="submenu">
                <li>
                  <a href="./pages/profile.html"><i class="fas fa-user"></i> Profile</a>
                </li>
                <li id="dashboardLi"> <!-- ID untuk elemen <li> menu Dashboard -->
                  <a href="./pages/dashboard.html"><i class="fa-solid fa-chalkboard"></i> Dashboard</a>
                </li>
                <li>
                  <a href="#" id="logoutButton"><i class="fa-solid fa-power-off"></i> Logout</a>
                </li>
              </ul>
            `;
            firestore
              .collection("users")
              .doc(user.uid)
              .get()
              .then((doc) => {
                if (doc.exists) {
                  const userData = doc.data();
                  const userRole = userData.role;
                  if (userRole !== "admin") {
                    const dashboardLi = document.getElementById("dashboardLi");
                    if (dashboardLi) {
                      dashboardLi.remove();
                    }
                  }
                } else {
                  console.log("User information not found!");
                }
              })
              .catch((error) => {
                console.error("Error getting user data:", error);
              });

            document
              .getElementById("logoutButton")
              .addEventListener("click", function () {
                auth
                  .signOut()
                  .then(() => {
                    window.location.href = "./pages/auth.html";
                  })
                  .catch((error) => {
                    alert(error.message);
                  });
              });
          }
        });
      });
    </script>
  </body>
</html>
